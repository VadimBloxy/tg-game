<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>HACKER_RPG: NEIGHBOR_EDITION // VADIMIVASH</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;500;700&display=swap');
        
        :root {
            --neon: #00ff41;
            --bg: #050505;
            --window-bg: #0a0a0a;
            --accent: #ff003c;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background: #000; color: var(--neon);
            font-family: 'Fira Code', monospace; overflow: hidden;
        }

        /* --- UI –ö–ê–†–ö–ê–° --- */
        #main-menu, #game-screen, #inventory-screen {
            position: fixed; inset: 0; display: none;
            flex-direction: column; align-items: center; justify-content: center;
            background: radial-gradient(circle, #111 0%, #000 100%);
            z-index: 10;
        }

        #main-menu { display: flex; }

        .scanline {
            width: 100%; height: 2px; background: rgba(0, 255, 65, 0.1);
            position: absolute; z-index: 100; pointer-events: none;
            animation: move 4s linear infinite;
        }
        @keyframes move { from { top: 0; } to { top: 100%; } }

        /* --- –ö–ù–û–ü–ö–ò --- */
        .btn {
            background: transparent; border: 1px solid var(--neon);
            color: var(--neon); padding: 15px 40px; margin: 10px;
            font-family: inherit; cursor: pointer; font-weight: bold;
            text-transform: uppercase; letter-spacing: 2px;
            transition: 0.3s; position: relative;
        }
        .btn:hover { background: var(--neon); color: #000; box-shadow: 0 0 20px var(--neon); }
        .btn:disabled { border-color: #333; color: #333; cursor: not-allowed; }

        /* --- –¢–ï–†–ú–ò–ù–ê–õ --- */
        #terminal-win {
            width: 80%; height: 70%; background: var(--window-bg);
            border: 1px solid #333; box-shadow: 0 0 50px rgba(0,0,0,1);
            position: relative; display: flex; flex-direction: column;
        }

        .bar { background: #1a1a1a; padding: 10px; display: flex; justify-content: space-between; font-size: 12px; }
        #console { flex: 1; padding: 20px; overflow-y: auto; white-space: pre-wrap; font-size: 14px; color: #00ff41; }
        
        #progress-container { width: 100%; height: 5px; background: #111; }
        #progress-bar { width: 0%; height: 100%; background: var(--neon); transition: 0.1s; }

        /* --- –ò–ù–í–ï–ù–¢–ê–†–¨ --- */
        .inv-grid {
            display: grid; grid-template-columns: repeat(3, 150px); gap: 20px;
            margin-top: 30px;
        }
        .inv-item {
            width: 150px; height: 180px; border: 1px dashed var(--neon);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; font-size: 10px; padding: 10px;
        }
        .inv-item.empty { opacity: 0.3; border-color: #333; }
        .icon { font-size: 30px; margin-bottom: 10px; }

        /* --- –í–°–ü–õ–´–í–ê–Æ–©–ò–ï –û–ö–ù–ê --- */
        #popup {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: var(--accent); color: white; padding: 30px;
            z-index: 1000; text-align: center; display: none;
            border: 4px solid #fff; box-shadow: 0 0 100px rgba(255,0,0,0.5);
        }

        /* --- –°–Æ–ñ–ï–¢–ù–´–ô –ü–õ–ï–ï–† --- */
        #story-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9);
            z-index: 5000; display: none; padding: 50px; color: #fff;
        }

    </style>
</head>
<body class="crt">
    <div class="scanline"></div>

    <div id="main-menu">
        <h1 style="font-size: 3rem; margin-bottom: 5px;">VADIM_HACK v.1.0</h1>
        <p style="margin-bottom: 40px; opacity: 0.7;">–¶–ï–õ–¨: –°–û–°–ï–î (–ö–í–ê–†–¢–ò–†–ê ‚Ññ42)</p>
        <button class="btn" onclick="startHack()">–ù–ê–ß–ê–¢–¨ –í–ó–õ–û–ú</button>
        <button class="btn" onclick="showInventory()">–ò–ù–í–ï–ù–¢–ê–†–¨ (<span id="inv-count">0</span>)</button>
        <p id="menu-hint" style="font-size: 12px; margin-top: 20px; color: #666;">*–ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ Wi-Fi –¥–ª—è –Ω–∞—á–∞–ª–∞</p>
    </div>

    <div id="game-screen">
        <div id="terminal-win">
            <div class="bar">
                <span>LOCAL_ATTACK_DAEMON</span>
                <span id="status">STATUS: INJECTING...</span>
            </div>
            <div id="progress-container"><div id="progress-bar"></div></div>
            <div id="console"></div>
        </div>
        
        <div id="popup">
            <h2>–í–ù–ò–ú–ê–ù–ò–ï: –°–†–ê–ë–û–¢–ê–õ –§–ê–ô–†–í–û–õ!</h2>
            <p>–°–æ—Å–µ–¥ –Ω–∞—á–∞–ª –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Ä–æ—É—Ç–µ—Ä–∞. –ë—ã—Å—Ç—Ä–æ –æ–±–æ—Ä–≤–∏ —Å–≤—è–∑—å!</p>
            <button class="btn" style="background: white; color: black;" onclick="bypass()">–û–ë–û–†–í–ê–¢–¨ –°–í–Ø–ó–¨</button>
        </div>
    </div>

    <div id="inventory-screen">
        <h2>–í–ê–®–ò –¢–†–û–§–ï–ò</h2>
        <div class="inv-grid" id="inventory-list">
            </div>
        <button class="btn" onclick="toMenu()">–í –ú–ï–ù–Æ</button>
    </div>

    <div id="story-overlay">
        <div id="story-text" style="font-size: 20px; line-height: 1.6;"></div>
        <button class="btn" style="margin-top: 50px;" onclick="closeStory()">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
    </div>

<script>
    // --- –î–ê–ù–ù–´–ï –ò–ì–†–´ ---
    let inventory = [];
    let typed = 0;
    const goal = 1500;
    let isBypassing = false;
    let hackStep = 0;

    const items = {
        'wifi_pass': { name: '–ü–∞—Ä–æ–ª—å Wi-Fi', icon: 'üì∂', desc: '–î–æ—Å—Ç—É–ø –∫ –¥–æ–º–∞—à–Ω–µ–π —Å–µ—Ç–∏ —Å–æ—Å–µ–¥–∞. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∫–æ–ø–∞—Ç—å –≥–ª—É–±–∂–µ.' },
        'diary': { name: '–î–Ω–µ–≤–Ω–∏–∫.txt', icon: 'üìî', desc: '–¢—É—Ç –æ–Ω —Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä–æ–ª–∏ –æ—Ç –∫–∞—Ä—Ç –∏ —Å–≤–æ–∏ –ø–æ–∑–æ—Ä–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã.' },
        'photo': { name: '–ö–æ–º–ø—Ä–æ–º–∞—Ç.jpg', icon: 'üñºÔ∏è', desc: '–§–æ—Ç–æ —Å–æ—Å–µ–¥–∞ –≤ –∫–æ—Å—Ç—é–º–µ –≥–æ—Ä–Ω–∏—á–Ω–æ–π. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —à–∞–Ω—Ç–∞–∂–∞.' }
    };

    const lines = [
        "nmap -F 192.168.0.1", "Target: TP-LINK_42", "Analyzing WPA2 handshake...",
        "Dictionary attack: 15%...", "Dictionary attack: 45%...", "Success! Pass: 12345678",
        "Connected. Spoofing IP...", "Scanning open ports: 80, 443, 8080", "Bruteforcing admin panel...",
        "Access granted to ROUTER_CORE", "Sniffing traffic...", "Found device: 'Neighbor-PC'",
        "Establishing remote shell...", "Sending payload: backdoor.exe", "Remote access: [YES]"
    ];

    const audio = new (window.AudioContext || window.webkitAudioContext)();
    function beep(f, d) {
        const o = audio.createOscillator(); const g = audio.createGain();
        o.frequency.value = f; g.gain.setValueAtTime(0.05, audio.currentTime);
        o.connect(g); g.connect(audio.destination); o.start(); o.stop(audio.currentTime + d);
    }

    // --- –õ–û–ì–ò–ö–ê ---

    function startHack() {
        document.getElementById('main-menu').style.display = 'none';
        document.getElementById('game-screen').style.display = 'flex';
        typeConsole("--- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –í–ó–õ–û–ú–ê –°–û–°–ï–î–ê ---\n");
    }

    function showInventory() {
        document.getElementById('main-menu').style.display = 'none';
        document.getElementById('inventory-screen').style.display = 'flex';
        renderInv();
    }

    function toMenu() {
        document.getElementById('inventory-screen').style.display = 'none';
        document.getElementById('main-menu').style.display = 'flex';
    }

    function renderInv() {
        const list = document.getElementById('inventory-list');
        list.innerHTML = "";
        for(let i=0; i<6; i++) {
            const itemKey = inventory[i];
            if(itemKey) {
                const data = items[itemKey];
                list.innerHTML += `<div class="inv-item">
                    <div class="icon">${data.icon}</div>
                    <b>${data.name}</b><br><span style="font-size:8px">${data.desc}</span>
                </div>`;
            } else {
                list.innerHTML += `<div class="inv-item empty">–ü–£–°–¢–û</div>`;
            }
        }
    }

    document.addEventListener('keydown', (e) => {
        if(document.getElementById('game-screen').style.display !== 'flex' || isBypassing) return;
        if(typed >= goal) return;

        typed += 10;
        beep(100 + Math.random()*50, 0.05);
        
        const prog = (typed / goal) * 100;
        document.getElementById('progress-bar').style.width = prog + "%";
        
        const out = document.getElementById('console');
        if(typed % 50 === 0) {
            let l = lines[Math.floor(Math.random()*lines.length)];
            out.textContent += "\n[RUN] " + l;
            out.scrollTop = out.scrollHeight;
        }

        // –°–Æ–ñ–ï–¢–ù–´–ï –¢–û–ß–ö–ò
        if(prog > 30 && !inventory.includes('wifi_pass')) {
            addInv('wifi_pass');
            triggerStory("–í–∑–ª–æ–º–∞–Ω —Ä–æ—É—Ç–µ—Ä! –¢–µ–ø–µ—Ä—å –≤—ã –≤–∏–¥–∏—Ç–µ –≤—Å–µ –µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ö–∞–∂–µ—Ç—Å—è, —Å–æ—Å–µ–¥ —Å–µ–π—á–∞—Å —Å–º–æ—Ç—Ä–∏—Ç –≤–∏–¥–µ–æ —Å –∫–æ—Ç–∏–∫–∞–º–∏...");
        }

        if(prog > 60 && !isBypassing && hackStep === 0) {
            isBypassing = true;
            document.getElementById('popup').style.display = 'block';
            beep(200, 1);
        }

        if(prog > 80 && !inventory.includes('diary')) {
            addInv('diary');
            triggerStory("–í—ã –Ω–∞—à–ª–∏ —Å–∫—Ä—ã—Ç—É—é –ø–∞–ø–∫—É '–ö–µ–∫'. –í–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª '–î–Ω–µ–≤–Ω–∏–∫.txt'. –û–≥–æ, –æ–Ω –≤–æ—Ä—É–µ—Ç —Ç—É–∞–ª–µ—Ç–Ω—É—é –±—É–º–∞–≥—É –≤ –ø–æ–¥—ä–µ–∑–¥–µ!");
        }

        if(prog >= 100) finish();
    });

    function addInv(key) {
        if(!inventory.includes(key)) {
            inventory.push(key);
            document.getElementById('inv-count').innerText = inventory.length;
        }
    }

    function bypass() {
        isBypassing = false;
        hackStep = 1;
        document.getElementById('popup').style.display = 'none';
        typeConsole("\n[OK] –ó–ê–©–ò–¢–ê –û–ë–û–ô–î–ï–ù–ê. –ü–†–û–î–û–õ–ñ–ê–ï–ú...");
    }

    function triggerStory(text) {
        document.getElementById('story-overlay').style.display = 'block';
        document.getElementById('story-text').innerText = text;
    }

    function closeStory() {
        document.getElementById('story-overlay').style.display = 'none';
    }

    function typeConsole(t) {
        document.getElementById('console').textContent += t;
    }

    function finish() {
        addInv('photo');
        triggerStory("–í–ó–õ–û–ú –ó–ê–í–ï–†–®–ï–ù! –£ –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø. –í—ã —Å–∫–∞—á–∞–ª–∏ —Ñ–æ—Ç–æ —Å–æ—Å–µ–¥–∞ –¥–ª—è —à–∞–Ω—Ç–∞–∂–∞. –¢–µ–ø–µ—Ä—å –æ–Ω —É –≤–∞—Å –≤ –∫—É–ª–∞–∫–µ! –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –≤ –º–µ–Ω—é, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ç—Ä–æ—Ñ–µ–∏.");
        setTimeout(() => {
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('main-menu').style.display = 'flex';
            document.getElementById('menu-hint').innerText = "–°–û–°–ï–î –í–ó–õ–û–ú–ê–ù. –í–´ - –õ–ï–ì–ï–ù–î–ê –ü–û–î–™–ï–ó–î–ê.";
            renderInv();
        }, 3000);
    }
</script>
</body>
</html>
